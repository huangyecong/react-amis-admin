define("db2041a",function(e,n){"use strict";function t(e,n){function t(e){o.push(e),s.push(g.length)}for(var o=[],s=[],g=[],f=-1,d=r.createScanner(e.getText(),!1),c=d.scan();17!==c;){switch(c){case 1:case 3:var l=e.positionAt(d.getTokenOffset()).line,v={startLine:l,endLine:l,kind:1===c?"object":"array"};g.push(v);break;case 2:case 4:var h=2===c?"object":"array";if(g.length>0&&g[g.length-1].kind===h){var v=g.pop(),k=e.positionAt(d.getTokenOffset()).line;v&&k>v.startLine+1&&f!==v.startLine&&(v.endLine=k-1,t(v),f=v.startLine)}break;case 13:var l=e.positionAt(d.getTokenOffset()).line,u=e.positionAt(d.getTokenOffset()+d.getTokenLength()).line;1===d.getTokenError()&&l+1<e.lineCount?d.setPosition(e.offsetAt(i.Position.create(l+1,0))):u>l&&(t({startLine:l,endLine:u,kind:a.FoldingRangeKind.Comment}),f=l);break;case 12:var L=e.getText().substr(d.getTokenOffset(),d.getTokenLength()),p=L.match(/^\/\/\s*#(region\b)|(endregion\b)/);if(p){var k=e.positionAt(d.getTokenOffset()).line;if(p[1]){var v={startLine:k,endLine:k,kind:a.FoldingRangeKind.Region};g.push(v)}else{for(var b=g.length-1;b>=0&&g[b].kind!==a.FoldingRangeKind.Region;)b--;if(b>=0){var v=g[b];g.length=b,k>v.startLine&&f!==v.startLine&&(v.endLine=k,t(v),f=v.startLine)}}}}c=d.scan()}var T=n&&n.rangeLimit;if("number"!=typeof T||o.length<=T)return o;for(var O=[],m=0,A=s;m<A.length;m++){var R=A[m];30>R&&(O[R]=(O[R]||0)+1)}for(var y=0,F=0,b=0;b<O.length;b++){var j=O[b];if(j){if(j+y>T){F=b;break}y+=j}}for(var K=[],b=0;b<o.length;b++){var R=s[b];"number"==typeof R&&(F>R||R===F&&y++<T)&&K.push(o[b])}return K}Object.defineProperty(n,"__esModule",{value:!0});var i=e("4872c6c"),r=e("c2fdf10"),a=e("3607d51");n.getFoldingRanges=t});