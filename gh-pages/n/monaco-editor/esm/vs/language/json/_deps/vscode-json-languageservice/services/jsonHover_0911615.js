define("fa9f56b",function(e,t){"use strict";function n(e){if(e){var t=e.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,"$1\n\n$3");return t.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}return void 0}Object.defineProperty(t,"__esModule",{value:!0});var r=e("849c8c1"),i=r.__importStar(e("c4fc87e")),o=e("4872c6c"),s=function(){function e(e,t,n){void 0===t&&(t=[]),this.schemaService=e,this.contributions=t,this.promise=n||Promise}return e.prototype.doHover=function(e,t,r){var s=e.offsetAt(t),c=r.getNodeFromOffset(s);if(!c||("object"===c.type||"array"===c.type)&&s>c.offset+1&&s<c.offset+c.length-1)return this.promise.resolve(null);var u=c;if("string"===c.type){var a=c.parent;if(a&&"property"===a.type&&a.keyNode===c&&(c=a.valueNode,!c))return this.promise.resolve(null)}for(var f=o.Range.create(e.positionAt(u.offset),e.positionAt(u.offset+u.length)),h=function(e){var t={contents:e,range:f};return t},m=i.getNodePath(c),l=this.contributions.length-1;l>=0;l--){var p=this.contributions[l],v=p.getInfoContribution(e.uri,m);if(v)return v.then(function(e){return h(e)})}return this.schemaService.getSchemaForResource(e.uri,r).then(function(e){if(e){var t=r.getMatchingSchemas(e.schema,c.offset),o=null,s=null,u=null,a=null;t.every(function(e){if(e.node===c&&!e.inverted&&e.schema&&(o=o||e.schema.title,s=s||e.schema.markdownDescription||n(e.schema.description),e.schema.enum)){var t=e.schema.enum.indexOf(i.getNodeValue(c));e.schema.markdownEnumDescriptions?u=e.schema.markdownEnumDescriptions[t]:e.schema.enumDescriptions&&(u=n(e.schema.enumDescriptions[t])),u&&(a=e.schema.enum[t],"string"!=typeof a&&(a=JSON.stringify(a)))}return!0});var f="";return o&&(f=n(o)),s&&(f.length>0&&(f+="\n\n"),f+=s),u&&(f.length>0&&(f+="\n\n"),f+="`"+n(a)+"`: "+u),h([f])}return null})},e}();t.JSONHover=s});