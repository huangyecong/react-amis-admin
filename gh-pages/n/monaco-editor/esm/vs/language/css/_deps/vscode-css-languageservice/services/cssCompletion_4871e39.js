define("81478b3",function(t,e){"use strict";function o(t){return t.replace(/\(\)$/,"($1)")}function n(t,e){function o(t){return(t instanceof a.Identifier||t instanceof a.NumericValue||t instanceof a.HexColorValue)&&s.add(t.getText()),!0}function n(t){var e=t.getFullPropertyName();return r===e}function i(t){if(t instanceof a.Declaration&&t!==e&&n(t)){var i=t.getValue();i&&i.accept(o)}return!0}var r=e.getFullPropertyName(),s=new g;return t.accept(i),s}function i(t){return"undefined"!=typeof t}function r(t,e){for(var o=e-1,n=t.getText();o>=0&&-1===' 	\n\r":{[()]},*>+'.indexOf(n.charAt(o));)o--;return n.substring(o+1,e)}Object.defineProperty(e,"__esModule",{value:!0});var s=t("849c8c1"),a=s.__importStar(t("0b0187d")),l=t("8a1df5e"),p=s.__importStar(t("4b90411")),c=s.__importStar(t("04c8348")),u=t("6b31927"),f=s.__importStar(t("da3a483")),m=f.loadMessageBundle(),h=u.InsertTextFormat.Snippet,d=function(){function t(t){void 0===t&&(t=null),this.completionParticipants=[],this.valueTypes=[a.NodeType.Identifier,a.NodeType.Value,a.NodeType.StringLiteral,a.NodeType.URILiteral,a.NodeType.NumericValue,a.NodeType.HexColorValue,a.NodeType.VariableName,a.NodeType.Prio],this.variablePrefix=t}return t.prototype.getSymbolContext=function(){return this.symbolContext||(this.symbolContext=new l.Symbols(this.styleSheet)),this.symbolContext},t.prototype.setCompletionParticipants=function(t){this.completionParticipants=t||[]},t.prototype.doComplete=function(t,e,o){this.offset=t.offsetAt(e),this.position=e,this.currentWord=r(t,this.offset),this.defaultReplaceRange=u.Range.create(u.Position.create(this.position.line,this.position.character-this.currentWord.length),this.position),this.textDocument=t,this.styleSheet=o;try{var n={isIncomplete:!1,items:[]};this.nodePath=a.getNodePath(this.styleSheet,this.offset);for(var i=this.nodePath.length-1;i>=0;i--){var s=this.nodePath[i];if(s instanceof a.Property)this.getCompletionsForDeclarationProperty(s.getParent(),n);else if(s instanceof a.Expression)s.parent instanceof a.Interpolation?this.getVariableProposals(null,n):this.getCompletionsForExpression(s,n);else if(s instanceof a.SimpleSelector){var l=s.findAParent(a.NodeType.ExtendsReference,a.NodeType.Ruleset);if(l)if(l.type===a.NodeType.ExtendsReference)this.getCompletionsForExtendsReference(l,s,n);else{var p=l;this.getCompletionsForSelector(p,p&&p.isNested(),n)}}else if(s instanceof a.FunctionArgument)this.getCompletionsForFunctionArgument(s,s.getParent(),n);else if(s instanceof a.Declarations)this.getCompletionsForDeclarations(s,n);else if(s instanceof a.VariableDeclaration)this.getCompletionsForVariableDeclaration(s,n);else if(s instanceof a.RuleSet)this.getCompletionsForRuleSet(s,n);else if(s instanceof a.Interpolation)this.getCompletionsForInterpolation(s,n);else if(s instanceof a.FunctionDeclaration)this.getCompletionsForFunctionDeclaration(s,n);else if(s instanceof a.MixinReference)this.getCompletionsForMixinReference(s,n);else if(s instanceof a.Function)this.getCompletionsForFunctionArgument(null,s,n);else if(s instanceof a.Supports)this.getCompletionsForSupports(s,n);else if(s instanceof a.SupportsCondition)this.getCompletionsForSupportsCondition(s,n);else if(s instanceof a.ExtendsReference)this.getCompletionsForExtendsReference(s,null,n);else if(s.type===a.NodeType.URILiteral)this.getCompletionForUriLiteralValue(s,n);else if(s.type===a.NodeType.StringLiteral&&s.parent.type===a.NodeType.Import)this.getCompletionForImportPath(s,n);else{if(null!==s.parent)continue;this.getCompletionForTopLevel(n)}if(n.items.length>0||this.offset>s.offset)return this.finalize(n)}return this.getCompletionsForStylesheet(n),0===n.items.length&&this.variablePrefix&&0===this.currentWord.indexOf(this.variablePrefix)&&this.getVariableProposals(null,n),this.finalize(n)}finally{this.position=null,this.currentWord=null,this.textDocument=null,this.styleSheet=null,this.symbolContext=null,this.defaultReplaceRange=null,this.nodePath=null}},t.prototype.finalize=function(t){var e=t.items.some(function(t){return!!t.sortText});if(e)for(var o=0,n=t.items;o<n.length;o++){var i=n[o];i.sortText||(i.sortText="d")}return t},t.prototype.findInNodePath=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o=this.nodePath.length-1;o>=0;o--){var n=this.nodePath[o];if(-1!==t.indexOf(n.type))return n}return null},t.prototype.getCompletionsForDeclarationProperty=function(t,e){return this.getPropertyProposals(t,e)},t.prototype.getPropertyProposals=function(t,e){var o=this,n=p.cssDataManager.getProperties();return n.forEach(function(n){var r,s,a=!1;t?(r=o.getCompletionRange(t.getProperty()),s=n.name,i(t.colonPosition)||(s+=": ",a=!0)):(r=o.getCompletionRange(null),s=n.name+": ",a=!0);var l={label:n.name,documentation:p.getEntryDescription(n),textEdit:u.TextEdit.replace(r,s),kind:u.CompletionItemKind.Property};n.restrictions||(a=!1),a&&(l.command={title:"Suggest",command:"editor.action.triggerSuggest"}),c.startsWith(n.name,"-")&&(l.sortText="x"),e.items.push(l)}),this.completionParticipants.forEach(function(t){t.onCssProperty&&t.onCssProperty({propertyName:o.currentWord,range:o.defaultReplaceRange})}),e},t.prototype.getCompletionsForDeclarationValue=function(t,e){for(var o=this,i=t.getFullPropertyName(),r=p.cssDataManager.getProperty(i),s=t.getValue();s&&s.hasChildren();)s=s.findChildAtOffset(this.offset,!1);if(this.completionParticipants.forEach(function(t){t.onCssPropertyValue&&t.onCssPropertyValue({propertyName:i,propertyValue:o.currentWord,range:o.getCompletionRange(s)})}),r){if(r.restrictions)for(var a=0,l=r.restrictions;a<l.length;a++){var c=l[a];switch(c){case"color":this.getColorProposals(r,s,e);break;case"position":this.getPositionProposals(r,s,e);break;case"repeat":this.getRepeatStyleProposals(r,s,e);break;case"line-style":this.getLineStyleProposals(r,s,e);break;case"line-width":this.getLineWidthProposals(r,s,e);break;case"geometry-box":this.getGeometryBoxProposals(r,s,e);break;case"box":this.getBoxProposals(r,s,e);break;case"image":this.getImageProposals(r,s,e);break;case"timing-function":this.getTimingFunctionProposals(r,s,e);break;case"shape":this.getBasicShapeProposals(r,s,e)}}this.getValueEnumProposals(r,s,e),this.getCSSWideKeywordProposals(r,s,e),this.getUnitProposals(r,s,e)}else for(var f=n(this.styleSheet,t),m=0,h=f.getEntries();m<h.length;m++){var d=h[m];e.items.push({label:d,textEdit:u.TextEdit.replace(this.getCompletionRange(s),d),kind:u.CompletionItemKind.Value})}return this.getVariableProposals(s,e),this.getTermProposals(r,s,e),e},t.prototype.getValueEnumProposals=function(t,e,o){if(t.values)for(var n=0,i=t.values;n<i.length;n++){var r=i[n];if(p.supportedInMoreThanOneBrowser(r)){var s=r.name,a=void 0;if(c.endsWith(s,")")){var l=s.lastIndexOf("(");-1!==l&&(s=s.substr(0,l)+"($1)",a=h)}var f={label:r.name,documentation:p.getEntryDescription(r),textEdit:u.TextEdit.replace(this.getCompletionRange(e),s),kind:u.CompletionItemKind.Value,insertTextFormat:a};o.items.push(f)}}return o},t.prototype.getCSSWideKeywordProposals=function(t,e,o){for(var n in p.cssWideKeywords)o.items.push({label:n,documentation:p.cssWideKeywords[n],textEdit:u.TextEdit.replace(this.getCompletionRange(e),n),kind:u.CompletionItemKind.Value});return o},t.prototype.getCompletionsForInterpolation=function(t,e){return this.offset>=t.offset+2&&this.getVariableProposals(null,e),e},t.prototype.getVariableProposals=function(t,e){for(var o=this.getSymbolContext().findSymbolsAtOffset(this.offset,a.ReferenceType.Variable),n=0,i=o;n<i.length;n++){var r=i[n],s=c.startsWith(r.name,"--")?"var("+r.name+")":r.name,l={label:r.name,documentation:r.value?c.getLimitedString(r.value):r.value,textEdit:u.TextEdit.replace(this.getCompletionRange(t),s),kind:u.CompletionItemKind.Variable,sortText:"z"};if(r.node.type===a.NodeType.FunctionParameter){var p=r.node.getParent();p.type===a.NodeType.MixinDeclaration&&(l.detail=m("completion.argument","argument from '{0}'",p.getName()))}e.items.push(l)}return e},t.prototype.getVariableProposalsForCSSVarFunction=function(t){var e=this.getSymbolContext().findSymbolsAtOffset(this.offset,a.ReferenceType.Variable);e=e.filter(function(t){return c.startsWith(t.name,"--")});for(var o=0,n=e;o<n.length;o++){var i=n[o];t.items.push({label:i.name,documentation:i.value?c.getLimitedString(i.value):i.value,textEdit:u.TextEdit.replace(this.getCompletionRange(null),i.name),kind:u.CompletionItemKind.Variable})}return t},t.prototype.getUnitProposals=function(t,e,o){var n="0";if(this.currentWord.length>0){var i=this.currentWord.match(/^-?\d[\.\d+]*/);i&&(n=i[0],o.isIncomplete=n.length===this.currentWord.length)}else 0===this.currentWord.length&&(o.isIncomplete=!0);if(e&&e.parent&&e.parent.type===a.NodeType.Term&&(e=e.getParent()),t.restrictions)for(var r=0,s=t.restrictions;r<s.length;r++){var l=s[r],c=p.units[l];if(c)for(var f=0,m=c;f<m.length;f++){var h=m[f],d=n+h;o.items.push({label:d,textEdit:u.TextEdit.replace(this.getCompletionRange(e),d),kind:u.CompletionItemKind.Unit})}}return o},t.prototype.getCompletionRange=function(t){if(t&&t.offset<=this.offset){var e=-1!==t.end?this.textDocument.positionAt(t.end):this.position;return u.Range.create(this.textDocument.positionAt(t.offset),e)}return this.defaultReplaceRange},t.prototype.getColorProposals=function(t,e,o){for(var n in p.colors)o.items.push({label:n,documentation:p.colors[n],textEdit:u.TextEdit.replace(this.getCompletionRange(e),n),kind:u.CompletionItemKind.Color});for(var n in p.colorKeywords)o.items.push({label:n,documentation:p.colorKeywords[n],textEdit:u.TextEdit.replace(this.getCompletionRange(e),n),kind:u.CompletionItemKind.Value});var i=new g;this.styleSheet.acceptVisitor(new y(i,this.offset));for(var r=0,s=i.getEntries();r<s.length;r++){var n=s[r];o.items.push({label:n,textEdit:u.TextEdit.replace(this.getCompletionRange(e),n),kind:u.CompletionItemKind.Color})}for(var a=function(t){var n=1,i=function(t,e){return"${"+n++ +":"+e+"}"},r=t.func.replace(/\[?\$(\w+)\]?/g,i);o.items.push({label:t.func.substr(0,t.func.indexOf("(")),detail:t.func,documentation:t.desc,textEdit:u.TextEdit.replace(l.getCompletionRange(e),r),insertTextFormat:h,kind:u.CompletionItemKind.Function})},l=this,c=0,f=p.colorFunctions;c<f.length;c++){var m=f[c];a(m)}return o},t.prototype.getPositionProposals=function(t,e,o){for(var n in p.positionKeywords)o.items.push({label:n,documentation:p.positionKeywords[n],textEdit:u.TextEdit.replace(this.getCompletionRange(e),n),kind:u.CompletionItemKind.Value});return o},t.prototype.getRepeatStyleProposals=function(t,e,o){for(var n in p.repeatStyleKeywords)o.items.push({label:n,documentation:p.repeatStyleKeywords[n],textEdit:u.TextEdit.replace(this.getCompletionRange(e),n),kind:u.CompletionItemKind.Value});return o},t.prototype.getLineStyleProposals=function(t,e,o){for(var n in p.lineStyleKeywords)o.items.push({label:n,documentation:p.lineStyleKeywords[n],textEdit:u.TextEdit.replace(this.getCompletionRange(e),n),kind:u.CompletionItemKind.Value});return o},t.prototype.getLineWidthProposals=function(t,e,o){for(var n=0,i=p.lineWidthKeywords;n<i.length;n++){var r=i[n];o.items.push({label:r,textEdit:u.TextEdit.replace(this.getCompletionRange(e),r),kind:u.CompletionItemKind.Value})}return o},t.prototype.getGeometryBoxProposals=function(t,e,o){for(var n in p.geometryBoxKeywords)o.items.push({label:n,documentation:p.geometryBoxKeywords[n],textEdit:u.TextEdit.replace(this.getCompletionRange(e),n),kind:u.CompletionItemKind.Value});return o},t.prototype.getBoxProposals=function(t,e,o){for(var n in p.boxKeywords)o.items.push({label:n,documentation:p.boxKeywords[n],textEdit:u.TextEdit.replace(this.getCompletionRange(e),n),kind:u.CompletionItemKind.Value});return o},t.prototype.getImageProposals=function(t,e,n){for(var i in p.imageFunctions){var r=o(i);n.items.push({label:i,documentation:p.imageFunctions[i],textEdit:u.TextEdit.replace(this.getCompletionRange(e),r),kind:u.CompletionItemKind.Function,insertTextFormat:i!==r?h:void 0})}return n},t.prototype.getTimingFunctionProposals=function(t,e,n){for(var i in p.transitionTimingFunctions){var r=o(i);n.items.push({label:i,documentation:p.transitionTimingFunctions[i],textEdit:u.TextEdit.replace(this.getCompletionRange(e),r),kind:u.CompletionItemKind.Function,insertTextFormat:i!==r?h:void 0})}return n},t.prototype.getBasicShapeProposals=function(t,e,n){for(var i in p.basicShapeFunctions){var r=o(i);n.items.push({label:i,documentation:p.basicShapeFunctions[i],textEdit:u.TextEdit.replace(this.getCompletionRange(e),r),kind:u.CompletionItemKind.Function,insertTextFormat:i!==r?h:void 0})}return n},t.prototype.getCompletionsForStylesheet=function(t){var e=this.styleSheet.findFirstChildBeforeOffset(this.offset);return e?e instanceof a.RuleSet?this.getCompletionsForRuleSet(e,t):e instanceof a.Supports?this.getCompletionsForSupports(e,t):t:this.getCompletionForTopLevel(t)},t.prototype.getCompletionForTopLevel=function(t){var e=this;return p.cssDataManager.getAtDirectives().forEach(function(o){t.items.push({label:o.name,textEdit:u.TextEdit.replace(e.getCompletionRange(null),o.name),documentation:p.getEntryDescription(o),kind:u.CompletionItemKind.Keyword})}),this.getCompletionsForSelector(null,!1,t),t},t.prototype.getCompletionsForRuleSet=function(t,e){var o=t.getDeclarations(),n=o&&o.endsWith("}")&&this.offset>=o.end;if(n)return this.getCompletionForTopLevel(e);var i=!o||this.offset<=o.offset;return i?this.getCompletionsForSelector(t,t.isNested(),e):this.getCompletionsForDeclarations(t.getDeclarations(),e)},t.prototype.getCompletionsForSelector=function(t,e,n){var i=this,r=this.findInNodePath(a.NodeType.PseudoSelector,a.NodeType.IdentifierSelector,a.NodeType.ClassSelector,a.NodeType.ElementNameSelector);!r&&this.offset-this.currentWord.length>0&&":"===this.textDocument.getText()[this.offset-this.currentWord.length-1]&&(this.currentWord=":"+this.currentWord,this.defaultReplaceRange=u.Range.create(u.Position.create(this.position.line,this.position.character-this.currentWord.length),this.position));var s=p.cssDataManager.getPseudoClasses();s.forEach(function(t){var e=o(t.name),s={label:t.name,textEdit:u.TextEdit.replace(i.getCompletionRange(r),e),documentation:p.getEntryDescription(t),kind:u.CompletionItemKind.Function,insertTextFormat:t.name!==e?h:void 0};c.startsWith(t.name,":-")&&(s.sortText="x"),n.items.push(s)});var l=p.cssDataManager.getPseudoElements();if(l.forEach(function(t){var e=o(t.name),s={label:t.name,textEdit:u.TextEdit.replace(i.getCompletionRange(r),e),documentation:p.getEntryDescription(t),kind:u.CompletionItemKind.Function,insertTextFormat:t.name!==e?h:void 0};c.startsWith(t.name,"::-")&&(s.sortText="x"),n.items.push(s)}),!e){for(var f=0,m=p.html5Tags;f<m.length;f++){var d=m[f];n.items.push({label:d,textEdit:u.TextEdit.replace(this.getCompletionRange(r),d),kind:u.CompletionItemKind.Keyword})}for(var g=0,y=p.svgElements;g<y.length;g++){var d=y[g];n.items.push({label:d,textEdit:u.TextEdit.replace(this.getCompletionRange(r),d),kind:u.CompletionItemKind.Keyword})}}var C={};C[this.currentWord]=!0;var x=this.styleSheet.getTextProvider();if(this.styleSheet.accept(function(t){if(t.type===a.NodeType.SimpleSelector&&t.length>0){var e=x(t.offset,t.length);return"."!==e.charAt(0)||C[e]||(C[e]=!0,n.items.push({label:e,textEdit:u.TextEdit.replace(i.getCompletionRange(r),e),kind:u.CompletionItemKind.Keyword})),!1}return!0}),t&&t.isNested()){var v=t.getSelectors().findFirstChildBeforeOffset(this.offset);v&&0===t.getSelectors().getChildren().indexOf(v)&&this.getPropertyProposals(null,n)}return n},t.prototype.getCompletionsForDeclarations=function(t,e){if(!t||this.offset===t.offset)return e;var o=t.findFirstChildBeforeOffset(this.offset);if(!o)return this.getCompletionsForDeclarationProperty(null,e);if(o instanceof a.AbstractDeclaration){var n=o;if(!i(n.colonPosition)||this.offset<=n.colonPosition)return this.getCompletionsForDeclarationProperty(n,e);if(i(n.semicolonPosition)&&n.semicolonPosition<this.offset)return this.offset===n.semicolonPosition+1?e:this.getCompletionsForDeclarationProperty(null,e);if(n instanceof a.Declaration)return this.getCompletionsForDeclarationValue(n,e)}else o instanceof a.ExtendsReference?this.getCompletionsForExtendsReference(o,null,e):this.currentWord&&"@"===this.currentWord[0]&&this.getCompletionsForDeclarationProperty(null,e);return e},t.prototype.getCompletionsForVariableDeclaration=function(t,e){return this.offset>t.colonPosition&&this.getVariableProposals(t.getValue(),e),e},t.prototype.getCompletionsForExpression=function(t,e){if(t.getParent()instanceof a.FunctionArgument)return this.getCompletionsForFunctionArgument(t.getParent(),t.getParent().getParent(),e),e;var o=t.findParent(a.NodeType.Declaration);if(!o)return this.getTermProposals(null,null,e),e;var n=t.findChildAtOffset(this.offset,!0);return n?n instanceof a.NumericValue||n instanceof a.Identifier?this.getCompletionsForDeclarationValue(o,e):e:this.getCompletionsForDeclarationValue(o,e)},t.prototype.getCompletionsForFunctionArgument=function(t,e,o){return"var"===e.getIdentifier().getText()&&(e.getArguments().hasChildren()&&e.getArguments().getChild(0)!==t||this.getVariableProposalsForCSSVarFunction(o)),o},t.prototype.getCompletionsForFunctionDeclaration=function(t,e){var o=t.getDeclarations();return o&&this.offset>o.offset&&this.offset<o.end&&this.getTermProposals(null,null,e),e},t.prototype.getCompletionsForMixinReference=function(t,e){for(var o=this.getSymbolContext().findSymbolsAtOffset(this.offset,a.ReferenceType.Mixin),n=0,i=o;n<i.length;n++){var r=i[n];r.node instanceof a.MixinDeclaration&&e.items.push(this.makeTermProposal(r,r.node.getParameters(),null))}return e},t.prototype.getTermProposals=function(t,e,o){for(var n=this.getSymbolContext().findSymbolsAtOffset(this.offset,a.ReferenceType.Function),i=0,r=n;i<r.length;i++){var s=r[i];s.node instanceof a.FunctionDeclaration&&o.items.push(this.makeTermProposal(s,s.node.getParameters(),e))}return o},t.prototype.makeTermProposal=function(t,e,o){var n=(t.node,e.getChildren().map(function(t){return t instanceof a.FunctionParameter?t.getName():t.getText()})),i=t.name+"("+n.map(function(t,e){return"${"+(e+1)+":"+t+"}"}).join(", ")+")";return{label:t.name,detail:t.name+"("+n.join(", ")+")",textEdit:u.TextEdit.replace(this.getCompletionRange(o),i),insertTextFormat:h,kind:u.CompletionItemKind.Function,sortText:"z"}},t.prototype.getCompletionsForSupportsCondition=function(t,e){var o=t.findFirstChildBeforeOffset(this.offset);if(o){if(o instanceof a.Declaration)return i(o.colonPosition||this.offset<=o.colonPosition)?this.getCompletionsForDeclarationValue(o,e):this.getCompletionsForDeclarationProperty(o,e);if(o instanceof a.SupportsCondition)return this.getCompletionsForSupportsCondition(o,e)}return i(t.lParent)&&this.offset>t.lParent&&(!i(t.rParent)||this.offset<=t.rParent)?this.getCompletionsForDeclarationProperty(null,e):e},t.prototype.getCompletionsForSupports=function(t,e){var o=t.getDeclarations(),n=!o||this.offset<=o.offset;if(n){var i=t.findFirstChildBeforeOffset(this.offset);return i instanceof a.SupportsCondition?this.getCompletionsForSupportsCondition(i,e):e}return this.getCompletionForTopLevel(e)},t.prototype.getCompletionsForExtendsReference=function(t,e,o){return o},t.prototype.getCompletionForUriLiteralValue=function(t,e){var o,n,i;if(0===t.getChildren().length){o="",n=this.position;var r=this.textDocument.positionAt(t.offset+"url(".length);i=u.Range.create(r,r)}else{var s=t.getChild(0);o=s.getText(),n=this.position,i=this.getCompletionRange(s)}return this.completionParticipants.forEach(function(t){t.onCssURILiteralValue&&t.onCssURILiteralValue({uriValue:o,position:n,range:i})}),e},t.prototype.getCompletionForImportPath=function(t,e){var o=this;return this.completionParticipants.forEach(function(e){e.onCssImportPath&&e.onCssImportPath({pathValue:t.getText(),position:o.position,range:o.getCompletionRange(t)})}),e},t}();e.CSSCompletion=d;var g=function(){function t(){this.entries={}}return t.prototype.add=function(t){this.entries[t]=!0},t.prototype.getEntries=function(){return Object.keys(this.entries)},t}(),y=function(){function t(t,e){this.entries=t,this.currentOffset=e}return t.prototype.visitNode=function(t){return(t instanceof a.HexColorValue||t instanceof a.Function&&p.isColorConstructor(t))&&(this.currentOffset<t.offset||t.end<this.currentOffset)&&this.entries.add(t.getText()),!0},t}()});